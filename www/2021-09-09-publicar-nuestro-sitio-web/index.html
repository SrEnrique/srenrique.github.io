<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Publicando nuestro sitio Web</title>

  
  <meta name="author" content="Luis Enrique Gastelum">
  

  <meta name="description" content="En esta entrada vamos a aprender un poco de Docker, el cual usaremos para levantar un sitio web usando nginx y letsencrypt para tener un servidor web y un certificado ssl. Para este tutorial no es necesario tener grandes conocimientos de Docker ni de nginx, pero si quieres hacer configuraciones...">

  

  

  <link rel="alternate" type="application/rss+xml" title="dotLog" href="/feed.xml">

  

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="dotLog">
  <meta property="og:title" content="Publicando nuestro sitio Web">
  <meta property="og:description" content="En esta entrada vamos a aprender un poco de Docker, el cual usaremos para levantar un sitio web usando nginx y letsencrypt para tener un servidor web y un certificado ssl. Para este tutorial no es necesario tener grandes conocimientos de Docker ni de nginx, pero si quieres hacer configuraciones...">

  
  <meta property="og:image" content="/assets/img/avatar-icon.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Luis Enrique Gastelum">
  <meta property="og:article:published_time" content="2021-09-09T00:30:59-04:00">
  <meta property="og:url" content="/2021-09-09-publicar-nuestro-sitio-web/">
  <link rel="canonical" href="/2021-09-09-publicar-nuestro-sitio-web/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@srnrique">
  <meta name="twitter:creator" content="@srnrique">

  <meta property="twitter:title" content="Publicando nuestro sitio Web">
  <meta property="twitter:description" content="En esta entrada vamos a aprender un poco de Docker, el cual usaremos para levantar un sitio web usando nginx y letsencrypt para tener un servidor web y un certificado ssl. Para este tutorial no es necesario tener grandes conocimientos de Docker ni de nginx, pero si quieres hacer configuraciones...">

  
  <meta name="twitter:image" content="/assets/img/avatar-icon.png">
  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="/">dotLog</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/tags">Tags</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="https://beautifuljekyll.com">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="https://www.markdowntutorial.com/">Learn markdown</a>
            </div>
          </li>
        
        <li class="nav-item">
          <a class="nav-link" id="nav-search-link" href="#" title="Search">
            <span id="nav-search-icon" class="fa fa-search"></span>
            <span id="nav-search-text">Search</span>
          </a>
        </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/avatar-icon.png" />
        </a>
      </div>
    </div>
  

</nav>



<div id="beautifuljekyll-search-overlay">

  <div id="nav-search-exit" title="Exit search">✕</div>
  <input type="text" id="nav-search-input" placeholder="Search">
  <ul id="search-results-container"></ul>
  
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
  <script>
    var searchjson = '[ \
       \
        { \
          "title"    : "HTB cap", \
          "category" : "hackingkaliCTFRed Team", \
          "url"      : "/2021-09-18-hackthebox-cap/", \
          "date"     : "September 18, 2021" \
        }, \
       \
        { \
          "title"    : "Explotando la vulnerabilidad  Microsoft MSHTML CVE-2021-40444", \
          "category" : "Creador de contenidodockerUbuntu", \
          "url"      : "/2021-09-12-explotando-cve-2021-40444/", \
          "date"     : "September 12, 2021" \
        }, \
       \
        { \
          "title"    : "Publicando nuestro sitio Web", \
          "category" : "Creador de contenidodockerUbuntu", \
          "url"      : "/2021-09-09-publicar-nuestro-sitio-web/", \
          "date"     : "September  9, 2021" \
        }, \
       \
        { \
          "title"    : "Creando un sitio Web estático con Jekyll", \
          "category" : "Creador de contenidoRubyUbuntu", \
          "url"      : "/2021-09-09-jekyll/", \
          "date"     : "September  9, 2021" \
        }, \
       \
        { \
          "title"    : "SSH Honeypot con docker", \
          "category" : "", \
          "url"      : "/2021-09-09-ssh-honeypot-con-docker/", \
          "date"     : "September  9, 2021" \
        }, \
       \
        { \
          "title"    : "Vulnerando Bludit  v3.9.2", \
          "category" : "Seguridad InformáticaMalwareSeguridadInformaticaHackhackingbludit", \
          "url"      : "/2020-07-19-vulnerando-bludit-v392/", \
          "date"     : "July 19, 2020" \
        }, \
       \
        { \
          "title"    : "TTY: un toolkit para crear aplicaciones de terminal", \
          "category" : "ProgramaciónRuby", \
          "url"      : "/2020-07-11-tty-un-toolkit-para-crear-aplicaciones/", \
          "date"     : "July 11, 2020" \
        }, \
       \
        { \
          "title"    : "Capacidad de recuperación de datos ", \
          "category" : "Seguridad InformáticaControlsCISControlsSeguridadInformaticaCISRecuperación de datos", \
          "url"      : "/2020-07-10-capacidad-de-recuperacion-de-datos/", \
          "date"     : "July 10, 2020" \
        }, \
       \
        { \
          "title"    : "Limitación y control de puertos de red, protocolos y servicios", \
          "category" : "ControlsCISControlsSeguridadInformaticaCIS", \
          "url"      : "/2020-07-10-limitacion-y-control-de-puertos-de-red/", \
          "date"     : "July 10, 2020" \
        }, \
       \
        { \
          "title"    : "Defensa contra malware", \
          "category" : "Seguridad InformáticaControlsCISControlsMalwareSeguridadInformaticaCIS", \
          "url"      : "/2020-07-09-defensa-contra-malware/", \
          "date"     : "July  9, 2020" \
        }, \
       \
        { \
          "title"    : "Protección de correo electrónico y navegador web", \
          "category" : "Seguridad InformáticaControlsCISControlsSeguridadInformaticaCIS", \
          "url"      : "/2020-01-15-proteccion-de-correo-electronico-y/", \
          "date"     : "January 15, 2020" \
        }, \
       \
        { \
          "title"    : "Configuración segura para hardware y software en dispositivos móviles, computadoras portátiles, estaciones de trabajo y servidores", \
          "category" : "Seguridad InformáticaControlsCISControlsCIS", \
          "url"      : "/2020-01-11-configuracion-segura-para-hardware-y/", \
          "date"     : "January 11, 2020" \
        }, \
       \
        { \
          "title"    : "Uso controlado de privilegios administrativos", \
          "category" : "Seguridad InformáticaControlsCISControlsCISmarco de trabajometodología", \
          "url"      : "/2020-01-10-uso-controlado-de-privilegios/", \
          "date"     : "January 10, 2020" \
        }, \
       \
        { \
          "title"    : "Gestión continua de vulnerabilidades", \
          "category" : "Seguridad InformáticaControlsCISControlsSeguridadInformaticaCIS", \
          "url"      : "/2020-01-10-gestion-continua-de-vulnerabilidades/", \
          "date"     : "January 10, 2020" \
        }, \
       \
        { \
          "title"    : " Inventario de Software autorizados y no autorizados", \
          "category" : "Seguridad InformáticaCISControlsSeguridadInformaticaCIS", \
          "url"      : "/2020-01-09-inventario-de-software-autorizados-y-no/", \
          "date"     : "January  9, 2020" \
        }, \
       \
        { \
          "title"    : "Inventario de Dispositivos autorizados y no autorizados", \
          "category" : "Seguridad InformáticaControlsCISControlsCISInventario de Dispositivos", \
          "url"      : "/2020-01-09-inventario-de-dispositivos-autorizados/", \
          "date"     : "January  9, 2020" \
        }, \
       \
        { \
          "title"    : "Introducción a los CIS controls ", \
          "category" : "Seguridad InformáticaControlsCISControlsSeguridadInformaticaCISmarco de trabajometodología", \
          "url"      : "/2020-01-08-introduccion-los-cis-controls/", \
          "date"     : "January  8, 2020" \
        }, \
       \
        { \
          "title"    : "[Logs II] Instalar ELK elastic stack 7.5", \
          "category" : "ubuntuelasticsearchinstalllinuxELK stackelastickibanaelastic stacklogstashl de linux", \
          "url"      : "/2020-01-07-instalar-elk-elastic-stack-75/", \
          "date"     : "January  7, 2020" \
        }, \
       \
        { \
          "title"    : "[Logs I] Iniciando con el análisis de logs", \
          "category" : "Seguridad InformáticalogsSeguridadInformaticaCISl de linux", \
          "url"      : "/2020-01-02-logs-i-iniciando-con-el-analisis-de-logs/", \
          "date"     : "January  2, 2020" \
        }, \
       \
        { \
          "title"    : "Instalar nginx mainline", \
          "category" : "mainlinenginxSeguridad Informáticaubuntuinstalllinuxl de linux", \
          "url"      : "/2018-09-03-intalar-nginx-mainline/", \
          "date"     : "September  3, 2018" \
        }, \
       \
       \
        { \
          "title"    : "About me", \
          "category" : "page", \
          "url"      : "/aboutme/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : ".Log Blog", \
          "category" : "page", \
          "url"      : "/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Tag Index", \
          "category" : "page", \
          "url"      : "/tags/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : ".Log Blog", \
          "category" : "page", \
          "url"      : "/page2/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : ".Log Blog", \
          "category" : "page", \
          "url"      : "/page3/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : ".Log Blog", \
          "category" : "page", \
          "url"      : "/page4/", \
          "date"     : "January 1, 1970" \
        } \
       \
    ]';
    searchjson = JSON.parse(searchjson);

    var sjs = SimpleJekyllSearch({
      searchInput: document.getElementById('nav-search-input'),
      resultsContainer: document.getElementById('search-results-container'),
      json: searchjson
    });
  </script>
</div>





  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Publicando nuestro sitio Web</h1>
          

          
            <span class="post-meta">Posted on September 9, 2021</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <p>En esta entrada vamos a aprender un poco de Docker, el cual usaremos para levantar un sitio web usando nginx y letsencrypt para tener un servidor web y un certificado ssl.
Para este tutorial no es necesario tener grandes conocimientos de Docker ni de nginx, pero si quieres hacer configuraciones un poco más complejas tendrás que investigar por tu cuenta o puedes dejar en la sección de los comentarios.</p>

<h1 id="prerrequisitos">Prerrequisitos</h1>
<ul>
  <li>Un sitio web (en este tutorial usaremos un sitio creado con Jekyll)</li>
  <li>Una IP publica</li>
  <li>un nombre de dominio</li>
  <li>Un servidor con Ubuntu</li>
  <li>Docker</li>
  <li>Docker compose</li>
</ul>

<h1 id="construyendo-nuestro-sitio-con-jekyll">Construyendo nuestro sitio con Jekyll</h1>
<p>En el post anterior aprendimos a crear sitios con jekyll pero solo sabemos cómo probarlo en nuestro entorno local. Para hacer un buid de nuestro sitio es algo muy fácil que no da tanto contenido para hacer una entrada. 
Nos dirigimos a la carpeta donde tenemos el proyecto y ejecutamos</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle exec Jekyll build
</code></pre></div></div>
<p>Con este comando vamos a actualizar el build de nuestro sitio y se convertirá en código htm, el cual ya podremos montar en un servidor web, el tenido lo encontraremos en <code class="language-plaintext highlighter-rouge">_site</code> toda esa carpeta la mandaremos a nuestro servidor a mí me gusta usar scp para mandar información a los servidores</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">scp ./_site MIUSUARIO@IP_DE_MI_SERVIDOR:/RUTA
</span></code></pre></div></div>
<p>En otra entrada aprenderemos a hacer integraciones con github accions para automatizar este proceso.</p>

<h1 id="publicando-nuestro-sitio-en-un-servidor">Publicando nuestro sitio en un servidor</h1>
<p>Para este punto ya debemos tener nuestro servidor con una IP publica, nuestro dominio apuntando a la IP de nuestro servidor y con Docker instalado.
Hacemos una carpeta en nuestro servidor yo la llamare webserver, movemos la carpta _site y la renombramos a www.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">mkdir webserver
mv _site webserver/www
</span></code></pre></div></div>
<p>Ahora tenemos una estructura de carpetas con solo nuestro sitio en la carpeta www</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>▾ webserver/
└─▾ www
  └── index.html
  └── … todas las demás carpetas de nuestro sitio 
</code></pre></div></div>

<p>Vamos a crear nuestro archivo <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> en el cual tendremos la configuración de nuestro sitio.</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">vim docker-compose.yml
</span></code></pre></div></div>
<p>escribimos esta configuración en el archivo</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">www</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">./www:/usr/share/nginx/html:ro</span>
  <span class="na">expose</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">80"</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">VIRTUAL_HOST=dotlog.xyz,www.dotlog.xyz</span>
    <span class="pi">-</span> <span class="s">LETSENCRYPT_HOST=dotlog.xyz,www.dotlog.xyz</span>
    <span class="pi">-</span> <span class="s">LETSENCRYPT_EMAIL=luise.gstlm@gmail.com</span>
</code></pre></div></div>
<p>Levantamos la imagen de docker</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo docker-compose up 
</span></code></pre></div></div>

<h2 id="usar-un-proxy">Usar un proxy</h2>

<p>Entramos con un navegador a la url de nuestro dominio o la ip pública del servidor y ya veremos el sitio.</p>

<p>Con esa simple configuración ya podemos acceder a nuestro sitio usando nuestro dominio, pero nosotros queremos que a nuestro sitio se entre por ssl y salga el candadito verde en nuestra pagina.</p>

<p>Para conseguir usar el ssl vamos a necesitar un nginx-proxy, lo tenemos que agregar a nuestro archivo <code class="language-plaintext highlighter-rouge">docker-compose.yml</code></p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nginx-proxy</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">jwilder/nginx-proxy</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80"</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">/var/run/docker.sock:/tmp/docker.sock</span>
    <span class="pi">-</span> <span class="s">./logs:/var/log/nginx</span>

<span class="na">www</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">./www:/usr/share/nginx/html:ro</span>
  <span class="na">expose</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">80"</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">VIRTUAL_HOST= tusitio.com,www.tusitio.com</span>

</code></pre></div></div>
<p>Agregamos un servicio llamado <code class="language-plaintext highlighter-rouge">nginx-proxy</code>  y usa la imagen <code class="language-plaintext highlighter-rouge">jwilder/nginx-proxy</code> exponiendo el puerto 80 de la maquina de docker a nuestro servidor, y la etiqueta <code class="language-plaintext highlighter-rouge">volumes</code> hacemos proxy del servicio <code class="language-plaintext highlighter-rouge">www</code>, y el otro volumen que agregamos es para pasar los logs del servicio <code class="language-plaintext highlighter-rouge">nginx-proxy</code> a nuestra carpeta. También editamos el servicio <code class="language-plaintext highlighter-rouge">www</code> quitando la <code class="language-plaintext highlighter-rouge">etiqueta ports</code> y solo dejando la etiqueta <code class="language-plaintext highlighter-rouge">expose</code> con el puerto 80</p>

<p>con esto también podemos levantar el docker con <code class="language-plaintext highlighter-rouge">sudo docker-compose up</code> pero aún no tenemos habilitado el certificado ssl.</p>

<h2 id="habilitando-ssl">habilitando SSL</h2>
<p>Para habilitar el ssl usaremos otra imagen, la de letsencrypt, vamos a editar de nuevo el archivo <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> ya para terminar la configuracion</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nginx-proxy</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">jwilder/nginx-proxy</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80"</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">443:443"</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">/var/run/docker.sock:/tmp/docker.sock</span>
    <span class="pi">-</span> <span class="s">./logs:/var/log/nginx</span>
    <span class="pi">-</span> <span class="s">certs:/etc/nginx/certs:ro</span>
    <span class="pi">-</span> <span class="s">confd:/etc/nginx/conf.d</span>
    <span class="pi">-</span> <span class="s">vhostd:/etc/nginx/vhost.d</span>
    <span class="pi">-</span> <span class="s">html:/usr/share/nginx/html</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">com.github.jrcs.letsencrypt_nginx_proxy_companion.nginx_proxy</span>

<span class="na">letsencrypt</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">jrcs/letsencrypt-nginx-proxy-companion:stable</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">certs:/etc/nginx/certs:rw</span>
    <span class="pi">-</span> <span class="s">confd:/etc/nginx/conf.d</span>
    <span class="pi">-</span> <span class="s">vhostd:/etc/nginx/vhost.d</span>
    <span class="pi">-</span> <span class="s">html:/usr/share/nginx/html</span>
    <span class="pi">-</span> <span class="s">/var/run/docker.sock:/var/run/docker.sock:ro</span>

<span class="na">www</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
  <span class="na">volumes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">./www:/usr/share/nginx/html:ro</span>
  <span class="na">expose</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">80"</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">VIRTUAL_HOST= tusitio.com,www.tusitio.com</span>
    <span class="pi">-</span> <span class="s">LETSENCRYPT_HOST= tusitio.com,www.tusitio.com</span>
    <span class="pi">-</span> <span class="s">LETSENCRYPT_EMAIL=tu_correo</span>
</code></pre></div></div>

<p>Con esta configuración tu la puedes replicar para tu sitio y va a funcionar solo cambia en las etiquetas environments por tus datos y listo, pero vamos a ver que hicimos en esta ultima parte</p>

<ol>
  <li>Agregamos el servicio letsencrypt que usa la imagen jrcs/letsencrypt-nginx-proxy-companion:stable.</li>
  <li>Agregamos a la etiqueta ports del servicio nginx-proxy el puerto 443 y agregamos volumenes para el certificado, los virtualhost y el html de la pagina.</li>
  <li>Al servicio www le agregamos dos environment nuevos para la configuración de letsencrypt.</li>
</ol>

<p>Corremos nuestro servicio con -d para que corra en segundo plano</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sudo docker-compose up -d
</span></code></pre></div></div>
<p>Conseguimos una estructura de carpetas</p>

<pre><code class="language-tree">▾ webserver/
├─▾ www
│   ├── index.html
│   └── … todas las demás carpetas de nuestro sitio 
├─▾ logs
│   ├── access.log
│   └── error.log
└── docker-compose.yml

</code></pre>
<h1 id="conclusión">Conclusión</h1>
<p>Con docker es muy simple levantar un sitio web de una forma muy fácil y rápida, esto nos va a servir en caso de que tengas que publicar una página de documentación o un blog.</p>

<h1 id="conclusión-1">Conclusión</h1>
<p>Con docker es muy simple levantar un sitio web de una forma muy fácil y rápida, esto nos va a servir en caso de que tengas que publicar una página de documentación o un blog.</p>

<h1 id="referencias">Referencias</h1>

<ul>
  <li><a href="https://hub.docker.com\_/nginx">https://hub.docker.com/_/nginx</a></li>
  <li><a href="https://hub.docker.com/r/jrcs/letsencrypt-nginx-proxy-companion/">https://hub.docker.com/r/jrcs/letsencrypt-nginx-proxy-companion/</a></li>
  <li><a href="https://hub.docker.com/r/jwilder/nginx-proxy">https://hub.docker.com/r/jwilder/nginx-proxy</a></li>
</ul>


      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#Creador de contenido">Creador de contenido</a>
          
            <a href="/tags#docker">docker</a>
          
            <a href="/tags#Ubuntu">Ubuntu</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Publicando+nuestro+sitio+Web&url=%2F2021-09-09-publicar-nuestro-sitio-web%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  

  

  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2021-09-09-jekyll/" data-toggle="tooltip" data-placement="top" title="Creando un sitio Web estático con Jekyll">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2021-09-12-explotando-cve-2021-40444/" data-toggle="tooltip" data-placement="top" title="Explotando la vulnerabilidad  Microsoft MSHTML CVE-2021-40444">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  <div class="disqus-comments">
  <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
	  var disqus_shortname = 'dotlog-xyz-1';
	  /* ensure that pages with query string get the same discussion */
	  var url_parts = window.location.href.split("?");
	  var disqus_url = url_parts[0];
	  (function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	  })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</div>
  
  

  




    </div>
  </div>
</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8701710257778378"
     crossorigin="anonymous"></script>

  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:luisenrique@lnr.pw" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/srenrique" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/srnrique" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Luis Enrique Gastelum
        &nbsp;&bull;&nbsp;
      
      2021

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="">dotlog.xyz</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
